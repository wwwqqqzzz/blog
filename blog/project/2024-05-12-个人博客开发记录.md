---
slug: blog-development
title: 个人博客开发记录：从零到Docusaurus
date: 2024-05-12
authors: [wqz]
tags: [前端, Docusaurus, 项目]
keywords: [Docusaurus, React, JavaScript, 静态站点生成器, 个人博客, 网站开发]
description: 本文记录了我使用Docusaurus构建个人博客的完整过程，包括配置、主题定制、内容组织和部署等环节。
sticky: 90
image: https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/1746225191887-66abe9fc65a182813698df2d79267bb2.png
---

这篇文章记录了我使用Docusaurus构建个人博客网站的整个过程，从选型决策到最终部署上线的完整历程。

<!-- truncate -->

## 为什么选择Docusaurus

在开始建站之前，我对比了多个静态站点生成器：

- **Next.js**: 功能强大但配置复杂
- **Hugo**: 构建速度快但自定义性较低
- **Hexo**: 生态丰富但主题质量参差不齐
- **Docusaurus**: 文档+博客双模式，React驱动

最终选择Docusaurus的原因：

1. **基于React**：我熟悉React开发，可以方便地自定义组件
2. **开箱即用**：内置博客、文档、搜索等功能
3. **MDX支持**：可以在Markdown中插入React组件
4. **主题定制**：支持通过swizzling覆盖默认组件
5. **活跃社区**：由Facebook维护，更新频繁

## 开发环境搭建

首先，确保安装了Node.js（推荐v18及以上）和npm。然后通过脚手架创建项目：

```bash
npx create-docusaurus@latest my-blog classic
cd my-blog
npm start
```

这样就可以快速创建一个基本的Docusaurus站点，并在本地启动开发服务器。

## 网站配置

### 基础配置

在`docusaurus.config.ts`中进行基本配置：

```js
const config = {
  title: '王起哲的博客',
  url: 'https://wangqizhe.cn',
  baseUrl: '/',
  favicon: 'img/favicon.ico',
  organizationName: 'wwwqqqzzz',
  projectName: 'blog',
  // ...更多配置
}
```

### 仅博客模式设置

为了将博客作为网站的主要内容，而不是文档，我配置了"博客模式"，同时保留了自定义首页：

```js
// 在plugins配置中添加自定义博客插件
plugins: [
  [
    './src/plugin/plugin-content-blog',
    {
      path: 'blog',
      routeBasePath: 'blog',
      blogDescription: '代码人生：编织技术与生活的博客之旅',
      blogSidebarCount: 10,
      postsPerPage: 12,
      // ...其他配置
    },
  ],
  // ...其他插件
]
```

这样可以保留自定义的首页，同时让博客成为网站的核心内容。

## 主题定制

### 颜色与样式

首先在`src/css/custom.css`中定义了主题色和全局样式：

```css
:root {
  --ifm-color-primary: #12affa;
  --ifm-color-primary-dark: #0799e0;
  /* ...其他颜色变体 */
}

/* 自定义字体和其他样式 */
body {
  font-family: 'MiSans', system-ui, -apple-system, sans-serif;
}
```

### 自定义组件

为了让首页更吸引人，我创建了一个Hero组件，放置在首页顶部：

```jsx
// src/components/landing/Hero/index.tsx
function Hero() {
  return (
    <motion.div className={styles.hero}>
      <div className={styles.intro}>
        <Name />
        <motion.p>
          在这里我会分享各类技术栈所遇到问题与解决方案...
        </motion.p>
        {/* 其他内容 */}
      </div>
      <motion.div className={styles.background}>
        <HeroSvg />
      </motion.div>
    </motion.div>
  )
}
```

## 内容组织

### 博客文章结构

我将博客文章按主题分类到不同的目录中：

```
blog/
├── develop/     # 开发相关文章
├── lifestyle/   # 生活相关文章
├── project/     # 项目记录
├── reference/   # 年度总结和参考资料
└── authors.yml  # 作者信息
```

每篇文章的frontmatter包含以下信息：

```markdown
---
title: 文章标题
description: 文章描述
authors: [wqz]
tags: [标签1, 标签2]
date: 2024-05-10
image: ./assets/cover.jpg  # 可选
slug: custom-url  # 可选
---
```

### 静态页面

除了博客文章，我还创建了一些静态页面：

- 关于页 (`/about`)
- 项目展示 (`/project`)
- 友情链接 (`/friends`)

这些页面通过在`src/pages`目录下创建对应的React组件或MDX文件实现。

## 插件与功能增强

为了丰富网站功能，我添加了几个关键插件：

1. **评论系统**: 使用Giscus实现基于GitHub Discussions的评论功能
2. **图片优化**: 使用`@docusaurus/plugin-ideal-image`实现图片懒加载和优化
3. **搜索功能**: 集成Algolia DocSearch提供全站搜索
4. **PWA支持**: 添加PWA插件使网站可安装
5. **代码高亮**: 自定义Prism主题提升代码块可读性

## 部署与优化

最终，我将网站部署到了Vercel平台：

1. 将代码推送到GitHub仓库
2. 在Vercel中导入该仓库
3. 配置构建命令(`npm run build`)和输出目录(`build`)
4. 设置自定义域名(`wangqizhe.cn`)

### 性能优化

为了提升网站性能，还做了以下优化：

1. 图片使用WebP格式并进行压缩
2. 配置适当的缓存策略
3. 使用CDN加速静态资源
4. 启用懒加载减少初始加载时间

## 总结与展望

通过使用Docusaurus构建个人博客，我不仅创建了一个美观实用的个人网站，也学习了许多前端开发的最佳实践。未来计划进一步优化以下方面：

1. 添加暗黑模式切换动画
2. 优化移动端体验
3. 添加文章阅读量统计
4. 增强站内互动功能

希望这篇开发记录能对想要搭建个人博客的朋友有所帮助。如果你有任何问题或建议，欢迎在评论区交流！
